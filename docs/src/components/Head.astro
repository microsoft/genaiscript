---
import type { Props } from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/Head.astro';

const canonical = Astro.site ? new URL(Astro.url.pathname, Astro.site) : undefined;
const llms = Astro.site ? new URL('/genaiscript/llms.txt', Astro.site) : undefined;
const slug = canonical?.href.replace(/\/$/, '') + ".md"
---
<Default {...Astro.props}>
    <slot />
</Default>
<link href={llms} rel="llms-txt" type="text/markdown" />
<link href={slug} rel="alternate" type="text/markdown" />
